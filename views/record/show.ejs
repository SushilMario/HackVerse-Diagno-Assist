<%- include("../partials/header"); %>

<link rel="stylesheet" href="/stylesheets/show.css"/>

<%- include("../partials/navbar"); %>

<div class="container initial-container">
    <% if(error && error.length > 0){ %>
        <div class="alert error">
            <%= error %>
        </div>
    <% } %>

    <% if(success && success.length > 0){ %>
        <div class="alert success">
            <%= success %>
        </div>
    <% } %>

    <div class="patient-showcase">
        <div id = "patientCarousel" class = "carousel slide" data-ride = "carousel" data-interval = "false">
            <!-- <ol class="carousel-indicators">
                <li data-target="#patientCarousel" data-slide-to="0" class="active"></li>
                <li data-target="#patientCarousel" data-slide-to="1"></li>
                <li data-target="#patientCarousel" data-slide-to="2"></li>
            </ol> -->
            <div class="carousel-inner w-100 h-100">
                <% patient.images.forEach((image, i) => { %>
                    <div class = "carousel-item w-100 h-100 <%= (i == 0) ? 'active' : 'not-active' %>">
                        <img src = "<%= image.url %>" class = "" alt="..."> 
                    </div>
                <% }) %>
            </div>

            <% if(patient.images.length > 1){ %> 
                <a class="carousel-control-prev" href="#patientCarousel" role="button" data-slide="prev">
                    <span class = "carousel-control-icon" aria-hidden="true"><i class="fas fa-arrow-left"></i></span>
                    <span class="sr-only">Previous</span>
                </a>

                <a class="carousel-control-next" href="#patientCarousel" role="button" data-slide="next">
                    <span class = "carousel-control-icon" aria-hidden="true"><i class="fas fa-arrow-right"></i></span>
                    <span class="sr-only">Next</span>
                </a>
            <% } %>
        </div>
    
        <div class= "patient-overview">
            <div class = "patient-name text-center w-100 section-heading"><%= patient.name %></div>
    
            <div class = "patient-details">
                <table class="table table-borderless patient-table mb-4">
                    <tbody>
                        <tr>
                            <td>Age</td>
                            <td class = "patient-details-separator text-center">:</td>
                            <td class = "patient-details-value text-right">Rs <%= patient.age %></td>
                        </tr>
                        <tr>
                            <td>Height (in cm)</td>
                            <td class = "patient-details-separator text-center">:</td>
                            <td class = "patient-details-value text-right"><%= patient.height %></td>
                        </tr>
                        <tr>
                            <td>Weight (in kg)</td>
                            <td class = "patient-details-separator text-center">:</td>
                            <td class = "patient-details-value text-right"><%= patient.weight %></td>
                        </tr>
                    </tbody>
                </table>
    
                <table class="table table-borderless patient-table mb-4">
                    <tbody>
                        <tr>
                            <td>Username</td>
                            <td class = "patient-details-separator text-center">:</td>
                            <td class = "patient-details-value text-right"><%= patient.username %></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<div class="third container">
    <div class = "box patient-section purchase">
        <div id = "patientCarousel" class = "carousel slide" data-ride = "carousel" data-interval = "false">
            <!-- <ol class="carousel-indicators">
                <li data-target="#patientCarousel" data-slide-to="0" class="active"></li>
                <li data-target="#patientCarousel" data-slide-to="1"></li>
                <li data-target="#patientCarousel" data-slide-to="2"></li>
            </ol> -->
            <div class="carousel-inner w-100 h-100">
                <% patient.images.forEach((image, i) => { %>
                    <div class = "carousel-item w-100 h-100 <%= (i == 0) ? 'active' : 'not-active' %>">
                        <img src = "<%= image.url %>" class = "" alt="..."> 
                    </div>
                <% }) %>
            </div>

            <% if(patient.images.length > 1){ %> 
                <a class="carousel-control-prev" href="#patientCarousel" role="button" data-slide="prev">
                    <span class = "carousel-control-icon" aria-hidden="true"><i class="fas fa-arrow-left"></i></span>
                    <span class="sr-only">Previous</span>
                </a>

                <a class="carousel-control-next" href="#patientCarousel" role="button" data-slide="next">
                    <span class = "carousel-control-icon" aria-hidden="true"><i class="fas fa-arrow-right"></i></span>
                    <span class="sr-only">Next</span>
                </a>
            <% } %>
        </div>
    </div>
</div>

<%- include("../partials/footer"); %>